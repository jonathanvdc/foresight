<!DOCTYPE html><html data-pathToRoot="" data-rawLocation="foresight" data-dynamicSideMenu="false"><head><meta charset="utf-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"></meta><title>foresight</title><link rel="shortcut icon" type="image/x-icon" href="favicon.ico"></link><script type="text/javascript" src="scripts/theme.js"></script><script type="text/javascript" src="scripts/searchData.js" defer="true"></script><script type="text/javascript" src="scripts/scastieConfiguration.js" defer="true"></script><link rel="stylesheet" href="styles/theme/bundle.css"></link><link rel="stylesheet" href="styles/theme/components/bundle.css"></link><link rel="stylesheet" href="styles/theme/components/button/bundle.css"></link><link rel="stylesheet" href="styles/theme/layout/bundle.css"></link><link rel="stylesheet" href="styles/nord-light.css"></link><link rel="stylesheet" href="styles/dotty-icons.css"></link><link rel="stylesheet" href="styles/filter-bar.css"></link><link rel="stylesheet" href="styles/code-snippets.css"></link><link rel="stylesheet" href="styles/searchbar.css"></link><link rel="stylesheet" href="styles/social-links.css"></link><link rel="stylesheet" href="styles/versions-dropdown.css"></link><link rel="stylesheet" href="styles/content-contributors.css"></link><link rel="stylesheet" href="styles/fontawesome.css"></link><script type="text/javascript" src="hljs/highlight.pack.js" defer="true"></script><script type="text/javascript" src="scripts/hljs-scala3.js" defer="true"></script><script type="text/javascript" src="scripts/ux.js" defer="true"></script><script type="text/javascript" src="scripts/common/component.js" defer="true"></script><script type="text/javascript" src="scripts/common/utils.js" defer="true"></script><script type="text/javascript" src="scripts/components/FilterBar.js" defer="true"></script><script type="text/javascript" src="scripts/components/DocumentableList.js" defer="true"></script><script type="text/javascript" src="scripts/components/Input.js" defer="true"></script><script type="text/javascript" src="scripts/components/FilterGroup.js" defer="true"></script><script type="text/javascript" src="scripts/components/Filter.js" defer="true"></script><script type="text/javascript" src="scripts/scaladoc-scalajs.js" defer="true"></script><script type="text/javascript" src="scripts/contributors.js" defer="true"></script><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" defer="true"></script><script type="text/javascript" src="https://d3js.org/d3.v6.min.js" defer="true"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js" defer="true"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js" defer="true"></script><script type="text/javascript" src="https://scastie.scala-lang.org/embedded.js" defer="true"></script><script type="text/javascript" src="scripts/data.js" defer="true"></script><link rel="stylesheet" href="styles/apistyles.css"></link><script>var pathToRoot = "";</script></head><body><div id=""><div id="header" class="body-small"><div class="header-container-left"><a href="" class="logo-container"><span class="project-name h300">root</span></a><span onclick="dropdownHandler(event)" class="text-button with-arrow" id="dropdown-trigger"><a></a></span><div id="version-dropdown" class="dropdown-menu"></div></div><div class="header-container-right"><button id="search-toggle" class="icon-button"></button><span id="theme-toggle" class="icon-button"></span><span id="mobile-menu-toggle" class="icon-button hamburger"></span></div></div><div id="mobile-menu"><div class="mobile-menu-header body-small"><span class="mobile-menu-logo"><span class="project-name h300">root</span></span><button id="mobile-menu-close" class="icon-button close"></button></div><div class="mobile-menu-container body-medium"><input id="mobile-scaladoc-searchbar-input" class="scaladoc-searchbar-input" type="search" placeholder="Find anything"></input><span id="mobile-theme-toggle" class="mobile-menu-item mode"></span></div></div><span id="mobile-sidebar-toggle" class="floating-button"></span><div id="leftColumn" class="body-small"><div class="switcher-container"><a id="api-nav-button" class="switcher h100 selected" href="index.html">API</a></div><nav id="api-nav" class="side-menu"><div class="ni n0 expanded"><span class="nh h100 selected"><button class="ar icon-button expanded"></button><a href="#"><span class="micon pa"></span><span>foresight</span></a></span><div class="ni n1"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat.html"><span class="micon pa"></span><span>eqsat</span></a></span><div class="ni n2"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/commands.html"><span class="micon pa"></span><span>commands</span></a></span><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/commands/AddManyCommand.html"><span class="micon cl"></span><span>AddManyCommand</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/commands/Command.html"><span class="micon tr"></span><span>Command</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/commands/Command$.html"><span class="micon ob"></span><span>Command</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/commands/CommandQueue.html"><span class="micon cl"></span><span>CommandQueue</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/commands/CommandQueue$.html"><span class="micon ob"></span><span>CommandQueue</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/commands/CommandQueueBuilder.html"><span class="micon cl"></span><span>CommandQueueBuilder</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/commands/EClassSymbol.html"><span class="micon tr"></span><span>EClassSymbol</span></a></span></div><div class="ni n3"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/commands/EClassSymbol$.html"><span class="micon ob"></span><span>EClassSymbol</span></a></span><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/commands/EClassSymbol$$Real.html"><span class="micon cl"></span><span>Real</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/commands/EClassSymbol$$Virtual.html"><span class="micon cl"></span><span>Virtual</span></a></span></div></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/commands/ENodeSymbol.html"><span class="micon cl"></span><span>ENodeSymbol</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/commands/UnionManyCommand.html"><span class="micon cl"></span><span>UnionManyCommand</span></a></span></div></div><div class="ni n2"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/extraction.html"><span class="micon pa"></span><span>extraction</span></a></span><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/extraction/CostFunction.html"><span class="micon tr"></span><span>CostFunction</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/extraction/ExtractionAnalysis.html"><span class="micon cl"></span><span>ExtractionAnalysis</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/extraction/ExtractionAnalysis$.html"><span class="micon ob"></span><span>ExtractionAnalysis</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/extraction/ExtractionTree.html"><span class="micon cl"></span><span>ExtractionTree</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/extraction/ExtractionTreeCall.html"><span class="micon cl"></span><span>ExtractionTreeCall</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/extraction/ExtractionTreeOrdering.html"><span class="micon cl"></span><span>ExtractionTreeOrdering</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/extraction/Extractor.html"><span class="micon tr"></span><span>Extractor</span></a></span></div></div><div class="ni n2"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/lang.html"><span class="micon pa"></span><span>lang</span></a></span><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/lang/AsMixin.html"><span class="micon tr"></span><span>AsMixin</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/lang/AsMixin$.html"><span class="micon ob"></span><span>AsMixin</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/lang/Defn.html"><span class="micon cl"></span><span>Defn</span></a></span></div><div class="ni n3"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/lang/Language.html"><span class="micon tr"></span><span>Language</span></a></span><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/lang/Language$Op.html"><span class="micon cl"></span><span>Op</span></a></span></div></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/lang/Language$.html"><span class="micon ob"></span><span>Language</span></a></span></div><div class="ni n3"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/lang/Registries$.html"><span class="micon ob"></span><span>Registries</span></a></span><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/lang/Registries$$CallDecoder$.html"><span class="micon ob"></span><span>CallDecoder</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/lang/Registries$$CallEncoder$.html"><span class="micon ob"></span><span>CallEncoder</span></a></span></div></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/lang/Use.html"><span class="micon cl"></span><span>Use</span></a></span></div></div><div class="ni n2"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/metadata.html"><span class="micon pa"></span><span>metadata</span></a></span><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/metadata/Analysis.html"><span class="micon tr"></span><span>Analysis</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/metadata/AnalysisMetadata.html"><span class="micon cl"></span><span>AnalysisMetadata</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/metadata/Metadata.html"><span class="micon tr"></span><span>Metadata</span></a></span></div></div><div class="ni n2"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/parallel.html"><span class="micon pa"></span><span>parallel</span></a></span><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/parallel/CancellationToken.html"><span class="micon cl"></span><span>CancellationToken</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/parallel/OperationCanceledException.html"><span class="micon cl"></span><span>OperationCanceledException</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/parallel/ParallelMap.html"><span class="micon tr"></span><span>ParallelMap</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/parallel/ParallelMap$.html"><span class="micon ob"></span><span>ParallelMap</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/parallel/TimedParallelMap.html"><span class="micon cl"></span><span>TimedParallelMap</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/parallel/TimingReport.html"><span class="micon cl"></span><span>TimingReport</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/parallel/TimingReport$.html"><span class="micon ob"></span><span>TimingReport</span></a></span></div></div><div class="ni n2"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/rewriting.html"><span class="micon pa"></span><span>rewriting</span></a></span><div class="ni n3"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/rewriting/patterns.html"><span class="micon pa"></span><span>patterns</span></a></span><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/CompiledPattern.html"><span class="micon cl"></span><span>CompiledPattern</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/CompiledPattern$.html"><span class="micon ob"></span><span>CompiledPattern</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/Instruction.html"><span class="micon tr"></span><span>Instruction</span></a></span></div><div class="ni n4"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/rewriting/patterns/Instruction$.html"><span class="micon ob"></span><span>Instruction</span></a></span><div class="ni n5 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/Instruction$$BindNode.html"><span class="micon cl"></span><span>BindNode</span></a></span></div><div class="ni n5 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/Instruction$$BindVar.html"><span class="micon cl"></span><span>BindVar</span></a></span></div><div class="ni n5 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/Instruction$$Compare.html"><span class="micon cl"></span><span>Compare</span></a></span></div></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/Machine$.html"><span class="micon ob"></span><span>Machine</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/MachineError.html"><span class="micon tr"></span><span>MachineError</span></a></span></div><div class="ni n4"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/rewriting/patterns/MachineError$.html"><span class="micon ob"></span><span>MachineError</span></a></span><div class="ni n5 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/MachineError$$InconsistentVars.html"><span class="micon cl"></span><span>InconsistentVars</span></a></span></div><div class="ni n5 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/MachineError$$NoMatchingNode.html"><span class="micon cl"></span><span>NoMatchingNode</span></a></span></div></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/MachineResult.html"><span class="micon tr"></span><span>MachineResult</span></a></span></div><div class="ni n4"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/rewriting/patterns/MachineResult$.html"><span class="micon ob"></span><span>MachineResult</span></a></span><div class="ni n5 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/MachineResult$$Failure.html"><span class="micon cl"></span><span>Failure</span></a></span></div><div class="ni n5 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/MachineResult$$Success.html"><span class="micon cl"></span><span>Success</span></a></span></div></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/MachineSearcherPhase.html"><span class="micon cl"></span><span>MachineSearcherPhase</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/MachineState.html"><span class="micon cl"></span><span>MachineState</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/MachineState$.html"><span class="micon ob"></span><span>MachineState</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/Pattern.html"><span class="micon tr"></span><span>Pattern</span></a></span></div><div class="ni n4"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/rewriting/patterns/Pattern$.html"><span class="micon ob"></span><span>Pattern</span></a></span><div class="ni n5 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/Pattern$$Var.html"><span class="micon cl"></span><span>Var</span></a></span></div><div class="ni n5 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/Pattern$$Var$.html"><span class="micon ob"></span><span>Var</span></a></span></div></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/PatternApplier.html"><span class="micon cl"></span><span>PatternApplier</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/PatternCompiler$.html"><span class="micon ob"></span><span>PatternCompiler</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/patterns/PatternMatch.html"><span class="micon cl"></span><span>PatternMatch</span></a></span></div></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/rewriting/PortableMatch.html"><span class="micon tr"></span><span>PortableMatch</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/rewriting/ReversibleApplier.html"><span class="micon tr"></span><span>ReversibleApplier</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/rewriting/ReversibleSearcher.html"><span class="micon tr"></span><span>ReversibleSearcher</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/rewriting/ReversibleSearcher$.html"><span class="micon ob"></span><span>ReversibleSearcher</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/rewriting/ReversibleSearcherPhase.html"><span class="micon tr"></span><span>ReversibleSearcherPhase</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/rewriting/Searcher.html"><span class="micon tr"></span><span>Searcher</span></a></span></div><div class="ni n3"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/rewriting/Searcher$.html"><span class="micon ob"></span><span>Searcher</span></a></span><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/Searcher$$Filter.html"><span class="micon cl"></span><span>Filter</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/Searcher$$Flatten.html"><span class="micon cl"></span><span>Flatten</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/Searcher$$Map.html"><span class="micon cl"></span><span>Map</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/Searcher$$SearcherOfPatternMatch.html"><span class="micon cl"></span><span>SearcherOfPatternMatch</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/Searcher$$SearcherOfPatternMatchProductOps.html"><span class="micon cl"></span><span>SearcherOfPatternMatchProductOps</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/Searcher$$SearcherOfSeqOfTraversableOps.html"><span class="micon cl"></span><span>SearcherOfSeqOfTraversableOps</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/rewriting/Searcher$$SearcherOfSeqOps.html"><span class="micon cl"></span><span>SearcherOfSeqOps</span></a></span></div></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/rewriting/SearcherPhase.html"><span class="micon tr"></span><span>SearcherPhase</span></a></span></div></div><div class="ni n2"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/saturation.html"><span class="micon pa"></span><span>saturation</span></a></span><div class="ni n3"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/saturation/priorities.html"><span class="micon pa"></span><span>priorities</span></a></span><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/saturation/priorities/CurveFittedPriorities.html"><span class="micon cl"></span><span>CurveFittedPriorities</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/saturation/priorities/MatchPriorities.html"><span class="micon tr"></span><span>MatchPriorities</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/saturation/priorities/PrioritizedMatch.html"><span class="micon cl"></span><span>PrioritizedMatch</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/saturation/priorities/ReweightedPriorities.html"><span class="micon tr"></span><span>ReweightedPriorities</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/saturation/priorities/UniformPriorities.html"><span class="micon cl"></span><span>UniformPriorities</span></a></span></div></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/BackoffRule.html"><span class="micon cl"></span><span>BackoffRule</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/BackoffRuleApplication.html"><span class="micon cl"></span><span>BackoffRuleApplication</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/BackoffRuleStats.html"><span class="micon cl"></span><span>BackoffRuleStats</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/EGraphWithRecordedApplications.html"><span class="micon cl"></span><span>EGraphWithRecordedApplications</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/EGraphWithRecordedApplications$.html"><span class="micon ob"></span><span>EGraphWithRecordedApplications</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/EGraphWithRoot.html"><span class="micon cl"></span><span>EGraphWithRoot</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/EGraphWithRoot$.html"><span class="micon ob"></span><span>EGraphWithRoot</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/MaximalRuleApplication.html"><span class="micon cl"></span><span>MaximalRuleApplication</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/MaximalRuleApplication$.html"><span class="micon ob"></span><span>MaximalRuleApplication</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/MaximalRuleApplicationWithCaching$.html"><span class="micon ob"></span><span>MaximalRuleApplicationWithCaching</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/Rebase.html"><span class="micon cl"></span><span>Rebase</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/Rebase$.html"><span class="micon ob"></span><span>Rebase</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/RuleStats.html"><span class="micon cl"></span><span>RuleStats</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/SearchAndApply.html"><span class="micon tr"></span><span>SearchAndApply</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/SearchAndApply$.html"><span class="micon ob"></span><span>SearchAndApply</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/StochasticRuleApplication.html"><span class="micon cl"></span><span>StochasticRuleApplication</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/StochasticRuleApplication$.html"><span class="micon ob"></span><span>StochasticRuleApplication</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/StochasticRuleApplicationWithCaching$.html"><span class="micon ob"></span><span>StochasticRuleApplicationWithCaching</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/Strategy.html"><span class="micon tr"></span><span>Strategy</span></a></span></div><div class="ni n3"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/saturation/Strategy$.html"><span class="micon ob"></span><span>Strategy</span></a></span><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/saturation/Strategy$$WithMetadata.html"><span class="micon cl"></span><span>WithMetadata</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/saturation/Strategy$$WithMetadataAndRoot.html"><span class="micon cl"></span><span>WithMetadataAndRoot</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/saturation/Strategy$$WithRecordedApplications.html"><span class="micon cl"></span><span>WithRecordedApplications</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/saturation/Strategy$$WithRecordingMetadataAndRoot.html"><span class="micon cl"></span><span>WithRecordingMetadataAndRoot</span></a></span></div><div class="ni n4 "><span class="nh "><a href="foresight/eqsat/saturation/Strategy$$WithRoot.html"><span class="micon cl"></span><span>WithRoot</span></a></span></div></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/TransformAndRebase.html"><span class="micon cl"></span><span>TransformAndRebase</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/saturation/TransformAndRebase$.html"><span class="micon ob"></span><span>TransformAndRebase</span></a></span></div></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/AddNodeResult.html"><span class="micon tr"></span><span>AddNodeResult</span></a></span></div><div class="ni n2"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/AddNodeResult$.html"><span class="micon ob"></span><span>AddNodeResult</span></a></span><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/AddNodeResult$$Added.html"><span class="micon cl"></span><span>Added</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/AddNodeResult$$AlreadyThere.html"><span class="micon cl"></span><span>AlreadyThere</span></a></span></div></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/EClassCall.html"><span class="micon cl"></span><span>EClassCall</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/EClassRef.html"><span class="micon cl"></span><span>EClassRef</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/EGraph.html"><span class="micon tr"></span><span>EGraph</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/EGraph$.html"><span class="micon ob"></span><span>EGraph</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/EGraphLike.html"><span class="micon tr"></span><span>EGraphLike</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/EGraphWithPendingUnions.html"><span class="micon cl"></span><span>EGraphWithPendingUnions</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/EGraphWithPendingUnions$.html"><span class="micon ob"></span><span>EGraphWithPendingUnions</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/ENode.html"><span class="micon cl"></span><span>ENode</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/ENode$.html"><span class="micon ob"></span><span>ENode</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/MixedTree.html"><span class="micon tr"></span><span>MixedTree</span></a></span></div><div class="ni n2"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/MixedTree$.html"><span class="micon ob"></span><span>MixedTree</span></a></span><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/MixedTree$$Call.html"><span class="micon cl"></span><span>Call</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/MixedTree$$MixedTreeOfEClassCallOps.html"><span class="micon cl"></span><span>MixedTreeOfEClassCallOps</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/MixedTree$$MixedTreeOfPatternOps.html"><span class="micon cl"></span><span>MixedTreeOfPatternOps</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/MixedTree$$Node.html"><span class="micon cl"></span><span>Node</span></a></span></div></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/Permutation.html"><span class="micon tr"></span><span>Permutation</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/ShapeCall.html"><span class="micon cl"></span><span>ShapeCall</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/Slot.html"><span class="micon tr"></span><span>Slot</span></a></span></div><div class="ni n2"><span class="nh "><button class="ar icon-button "></button><a href="foresight/eqsat/Slot$.html"><span class="micon ob"></span><span>Slot</span></a></span><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/Slot$$NumberedSlot.html"><span class="micon cl"></span><span>NumberedSlot</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/eqsat/Slot$$UniqueSlot.html"><span class="micon cl"></span><span>UniqueSlot</span></a></span></div></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/SlotMap.html"><span class="micon cl"></span><span>SlotMap</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/SlotMap$.html"><span class="micon ob"></span><span>SlotMap</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/Tree.html"><span class="micon cl"></span><span>Tree</span></a></span></div><div class="ni n2 "><span class="nh "><a href="foresight/eqsat/Tree$.html"><span class="micon ob"></span><span>Tree</span></a></span></div></div><div class="ni n1"><span class="nh "><button class="ar icon-button "></button><a href="foresight/util.html"><span class="micon pa"></span><span>util</span></a></span><div class="ni n2"><span class="nh "><button class="ar icon-button "></button><a href="foresight/util/collections.html"><span class="micon pa"></span><span>collections</span></a></span><div class="ni n3"><span class="nh "><button class="ar icon-button "></button><a href="foresight/util/collections/StrictMapOps$.html"><span class="micon ob"></span><span>StrictMapOps</span></a></span><div class="ni n4 "><span class="nh "><a href="foresight/util/collections/StrictMapOps$$Ops.html"><span class="micon cl"></span><span>Ops</span></a></span></div></div></div><div class="ni n2"><span class="nh "><button class="ar icon-button "></button><a href="foresight/util/ordering.html"><span class="micon pa"></span><span>ordering</span></a></span><div class="ni n3 "><span class="nh "><a href="foresight/util/ordering/SeqOrdering$.html"><span class="micon ob"></span><span>SeqOrdering</span></a></span></div></div><div class="ni n2"><span class="nh "><button class="ar icon-button "></button><a href="foresight/util/random.html"><span class="micon pa"></span><span>random</span></a></span><div class="ni n3 "><span class="nh "><a href="foresight/util/random/DiscreteDistribution.html"><span class="micon tr"></span><span>DiscreteDistribution</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/util/random/Random.html"><span class="micon tr"></span><span>Random</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/util/random/Random$.html"><span class="micon ob"></span><span>Random</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/util/random/Sample$.html"><span class="micon ob"></span><span>Sample</span></a></span></div><div class="ni n3 "><span class="nh "><a href="foresight/util/random/ShiftedGeometricDistribution.html"><span class="micon cl"></span><span>ShiftedGeometricDistribution</span></a></span></div></div></div></div></nav></div><div id="footer" class="body-small"><div class="left-container">Generated with</div><div class="right-container"><div class="text"></div></div><div class="text-mobile"></div></div><div id="scaladoc-searchBar"></div><div id="main"><div class="breadcrumbs container"><a href="index.html">root</a>/<a href="foresight.html">foresight</a></div><div id="content" class="body-medium"><div><div class="cover-header">
 <span class="icon"><span class="micon pa"></span></span>
 <h1 class="h600 single">foresight</h1>
</div>
<div class="fqname body-large">
 <span>foresight</span>
</div>
<div class="main-signature mono-small-block">
 <div class="signature">
  <span class="modifiers"></span><span class="kind"><span t="k">package </span></span><a href="foresight.html" t="n" class="documentableName ">foresight</a>
 </div>
</div>
<section id="members-list">
 <h2 class="h500">Members list</h2>
 <div class="documentableFilter">
  <div class="filtersContainer"></div><input class="filterableInput" placeholder="Filter by any phrase" data-test-id="filterBarInput" type="search"><button class="clearButton label-only-button" data-test-id="filterBarClearButton">Clear all</button>
 </div>
 <div class="membersList expand">
  <div class="tabs">
   <div class="contents">
    <section id="Packages">
     <div data-togglable="packages" class="tab expand">
      <div class="documentableList expand">
       <div class="documentableList-expander">
        <button class="icon-button show-content expand"></button>
        <h3 class="groupHeader h400">Packages</h3>
       </div>
       <div class="documentableElement">
        <div class="documentableElement-expander">
         <button class="icon-button ar show-content"></button>
         <div class="header monospace mono-medium">
          <div class="signature">
           <span class="modifiers"></span><span class="kind"><span t="k">package </span></span><a href="foresight/eqsat.html" t="n" class="documentableName ">foresight.eqsat</a>
          </div>
         </div>
        </div>
        <div class="docs">
         <span class="modifiers"></span>
         <div>
          <div class="originInfo"></div>
          <div class="memberDocumentation">
           <div class="documentableBrief doc">
            <p>The root of Foresight's equality saturation framework. It provides immutable e-graph data structures, symbolic references, slot-based binding semantics, and core interfaces for search, application, and extraction.</p>
           </div>
           <div class="cover">
            <div class="doc">
             <p>The root of Foresight's equality saturation framework. It provides immutable e-graph data structures, symbolic references, slot-based binding semantics, and core interfaces for search, application, and extraction.</p>
             <p>An <strong>e-graph</strong> represents equivalence classes of expressions, or <em>e-classes</em>, each containing multiple <em>e-nodes</em> that differ in structure but are semantically equal. This representation supports efficient, parallel, and reversible rewrite-driven optimization, with explicit tracking of symbolic bindings (<em>slots</em>) and rich metadata.</p>
             <p>E-graphs in Foresight are purely functional: every operation returns a new value rather than mutating in place. This immutability underpins reproducibility, concurrent analysis, and caching across snapshots.</p>
             <h2><a href="#core-concepts" id="core-concepts">Core Concepts</a></h2>
             <p>At the heart of the API are symbolic identifiers and slot-based binding. An <a href="foresight/eqsat/EClassRef.html">eqsat.EClassRef</a> is a reference to an e-class within a particular e-graph snapshot. Over time, merges may cause multiple references to point to the same canonical e-class, so callers should normalize them with <a href="foresight/eqsat/EGraphLike.html#canonicalize-d24">eqsat.EGraphLike.canonicalize</a>. An <a href="foresight/eqsat/EClassCall.html">eqsat.EClassCall</a> couples a root reference with a total slot map, allowing the same structural e-class to be applied with different bindings. A <a href="foresight/eqsat/Slot.html">eqsat.Slot</a> identifies a bound variable in an expression, and a <a href="foresight/eqsat/SlotMap.html">eqsat.SlotMap</a> gives a complete mapping from slots to other slots or values.</p>
             <h2><a href="#egraph-and-egraphlike" id="egraph-and-egraphlike">EGraph and EGraphLike</a></h2>
             <p><a href="foresight/eqsat/EGraphLike.html">eqsat.EGraphLike</a> is the fundamental, immutable e-graph interface, F-bounded over its concrete self type so that core operations like adding nodes, merging classes, and emptying the graph return the most precise implementation type rather than a generic supertype. This enables fluent, type-safe composition without casting. <a href="foresight/eqsat/EGraph.html">eqsat.EGraph</a> is the default public form of an e-graph, defined simply as <code>EGraph[NodeT] extends EGraphLike[NodeT, EGraph[NodeT]]</code>. The companion object offers convenient constructors such as <code>EGraph.empty</code> for building a new graph, or <code>EGraph.from(tree)</code> for inserting a <a href="foresight/eqsat/MixedTree.html">eqsat.MixedTree</a> into a fresh graph and returning its root call.</p>
             <p>Canonicalization and identity management are central to working with e-graphs. Methods like <code>canonicalize(ref)</code> return the leader representative for an <a href="foresight/eqsat/EClassRef.html">eqsat.EClassRef</a>, reflecting all unions so far. The graph can answer membership queries (<code>contains</code>) and retrieve the e-class containing a given <a href="foresight/eqsat/ENode.html">eqsat.ENode</a>. Batch operations like <code>tryAddMany</code> and <code>unionMany</code> allow for inserting multiple nodes or merging multiple classes in one pass, improving efficiency and reducing intermediate rebuilding. For workflows where merges are staged, the simpler <code>union</code> defers merging until the next rebuild.</p>
             <p><a href="foresight/eqsat/EGraphLike.html">eqsat.EGraphLike</a> also supports interoperability and reuse. Wrapping an instance with <code>withMetadata</code> enables automatic tracking of registered metadata analyses. Calling <code>emptied</code> produces a configuration-equivalent graph with all content removed, which is useful when repeating a pipeline on fresh inputs without reconstructing the entire environment.</p>
             <h2><a href="#subpackages" id="subpackages">Subpackages</a></h2>
             <p>The <code>foresight.eqsat.commands</code> package defines a system for batching and replaying e-graph edits. Commands are immutable descriptions of insertions, merges, and other structural changes, which can be staged and optimized before execution.</p>
             <p>The <code>foresight.eqsat.extraction</code> package turns e-classes into concrete expression trees using cost models. It computes minimal-cost trees for each class and carries a slot renaming to ensure context validity. These analyses are deterministic and fully parametric over cost type and node ordering.</p>
             <p>The <code>foresight.eqsat.metadata</code> package attaches derived information to e-graphs and keeps it incrementally updated. This includes both general-purpose metadata managers and semilattice-style analyses. The <code>EGraphWithMetadata</code> wrapper ensures consistency after additions and merges.</p>
             <p>The <code>foresight.eqsat.parallel</code> package provides composable parallelism utilities. <a href="foresight/eqsat/parallel/ParallelMap.html">foresight.eqsat.parallel.ParallelMap</a> defines the core mapping strategy interface, with sequential, parallel, and fixed-thread variants, plus wrappers for cooperative cancellation and hierarchical timing.</p>
             <p>The <code>foresight.eqsat.rewriting</code> package implements the search–apply pipeline for equality saturation. Searchers find matches, appliers produce commands, and rules combine them into optimized batches. Features like reversal and match portability enable bidirectional reasoning and cross-snapshot caching.</p>
             <p>The <code>foresight.eqsat.saturation</code> package orchestrates rewrite application at scale. A <a href="foresight/eqsat/saturation/Strategy.html">foresight.eqsat.saturation.Strategy</a> composes search–apply steps into full saturation runs, with variants for maximal application, stochastic selection, backoff quotas, caching, and rebasing.</p>
             <h2><a href="#design-principles" id="design-principles">Design Principles</a></h2>
             <p>All core data types are persistent values: applying a command, running a rule, or performing extraction yields a new e-graph or analysis result without modifying the original. Symbolic planning is encouraged—commands and calls are constructed over symbolic identifiers and slot mappings, making it possible to plan transformations before runtime IDs are known. Extraction, rewriting, and saturation are parametric over cost types and node orderings, allowing the same framework to target latency minimization, code size reduction, or other goals. Parallelism and cooperative cancellation are explicit in the API: major batch operations accept a <a href="foresight/eqsat/parallel/ParallelMap.html">foresight.eqsat.parallel.ParallelMap</a>, avoiding hidden threading behavior.</p>
            </div>
            <h2 class="h200">Attributes</h2>
            <dl class="attributes attributes-small">
             <dt class="body-small">
              Example
             </dt>
             <dd class="body-medium">
              <div>
               <div>
                <div class="snippet mono-small-block">
                 <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>import foresight.eqsat._
</span><span line-number="2" class=""><span class="tooltip-container"></span>import foresight.eqsat.commands._
</span><span line-number="3" class=""><span class="tooltip-container"></span>import foresight.eqsat.rewriting._
</span><span line-number="4" class=""><span class="tooltip-container"></span>import foresight.eqsat.saturation._
</span><span line-number="5" class=""><span class="tooltip-container"></span>// Create an empty e-graph for a custom node type
</span><span line-number="6" class=""><span class="tooltip-container"></span>val g0: EGraph[MyNode] = EGraph.empty
</span><span line-number="7" class=""><span class="tooltip-container"></span>// Build a command queue
</span><span line-number="8" class=""><span class="tooltip-container"></span>val builder = new CommandQueueBuilder[MyNode]
</span><span line-number="9" class=""><span class="tooltip-container"></span>val root    = builder.add(myENode)
</span><span line-number="10" class=""><span class="tooltip-container"></span>val queue   = builder.queue.optimized
</span><span line-number="11" class=""><span class="tooltip-container"></span>// Apply commands to produce a new graph
</span><span line-number="12" class=""><span class="tooltip-container"></span>val (g1, reif) = queue(g0, Map.empty, ParallelMap.sequential)
</span><span line-number="13" class=""><span class="tooltip-container"></span>// Run a saturation strategy
</span><span line-number="14" class=""><span class="tooltip-container"></span>val rules: Seq[Rule[MyNode, MyMatch, EGraph[MyNode]]] = Seq(r1, r2)
</span><span line-number="15" class=""><span class="tooltip-container"></span>val strat = MaximalRuleApplicationWithCaching(rules).repeatUntilStable
</span><span line-number="16" class=""><span class="tooltip-container"></span>val result = strat.run(g1)
</span></code></pre>
                 <div class="buttons"></div>
                </div>
               </div>
              </div>
             </dd>
            </dl>
           </div>
          </div>
         </div>
        </div>
       </div>
       <div class="documentableElement">
        <div class="documentableElement-expander">
         <div class="header monospace mono-medium">
          <div class="signature">
           <span class="modifiers"></span><span class="kind"><span t="k">package </span></span><a href="foresight/util.html" t="n" class="documentableName ">foresight.util</a>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </section>
   </div>
  </div>
 </div>
</section></div><div id="toc" class="body-small"><div id="toc-container"><span class="toc-title h200">In this article</span><nav class="toc-nav"><ul class="toc-list"><li><a href="#members-list">Members list</a><ul><li><a href="#Packages">Packages</a></li></ul></li></ul></nav></div></div></div><div id="footer" class="body-small mobile-footer"><div class="left-container">Generated with</div><div class="right-container"><div class="text"></div></div><div class="text-mobile"></div></div></div></div></body></html>